---
title: Unified diff viewer
description: An opinionated simple diff viewer for React. 
---

import { DiffViewer } from "@/registry/blocks/diff-viewer/diff-viewer";
import { EXAMPLE_DIFF, SIMPLE_DIFF, DISSIMILAR_DIFF, MIXED_DIFF, MIXED_DIFF2 } from '@/registry/blocks/diff-viewer/data';


<DiffViewer patch={EXAMPLE_DIFF} />

## Installation


```bash
npx shadcn@latest add diff-viewer
```

## Usage

Render the diff viewer with the `patch` prop.

```tsx
import { parseDiff, Diff, Hunk, Link } from "@/registry/ui/diff/parse-diff";

const DiffViewer = () => {
  const files = parseDiff(diff);
  return (
    <div>
      {files.map((file) => (
        <Diff key={file.name} hunks={file.hunks}>
          {file.hunks.map((hunk) => (
            <Hunk key={hunk.id} />
          ))}
        </Diff>
      ))}
    </div>
  );
};
```

## How it works

This is what GitHub shows for this example diff:
<DiffViewer patch={SIMPLE_DIFF} options={{ mergeModifiedLines: false }} />


With merging of adjacent deleted and inserted lines, we can make it more readable:

<DiffViewer patch={SIMPLE_DIFF} />

Without any other logic, it will not be chaotic when the lines are very different:

<DiffViewer patch={DISSIMILAR_DIFF} options={{ similarityThreshold: 1 }} />

We can add a similarity threshold to the diff parser to merge lines that are similar.

<DiffViewer patch={DISSIMILAR_DIFF} />

In even more complex cases, we might want to merge lines that are similar but not adjacent.

<Tabs defaultValue="GitHub">
  <TabsList>
    <TabsTrigger value="GitHub">GitHub Style</TabsTrigger>
    <TabsTrigger value="Merged Adjacent">Merge Adjacent Lines</TabsTrigger>
    <TabsTrigger value="Similar">Merge Similar Lines</TabsTrigger>
  </TabsList>
  <TabsContent value="GitHub">
    <DiffViewer patch={EXAMPLE_DIFF} options={{ mergeModifiedLines: false }} />
  </TabsContent>
  <TabsContent value="Merged Adjacent">
    <DiffViewer patch={EXAMPLE_DIFF} options={{ mergeModifiedLines: true, maxDiffDistance: 1 }} />
  </TabsContent>
  <TabsContent value="Similar">
    <DiffViewer patch={EXAMPLE_DIFF} />
  </TabsContent>
</Tabs>

